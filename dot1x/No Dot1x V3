#Int Modules
import os
from ciscoconfparse import CiscoConfParse

#Loop through Directory to find switchports with 802.1x
root = "/home/jbowers/Configs"
for file in os.listdir(root):
    if not file.startswith("P"):
        continue
    config_path = os.path.join(root, file)
    parse = CiscoConfParse(config_path)
    all_intfs = parse.find_objects(r"^interf")
    NoDot1x = list()
    NoDot1x = parse.find_objects_wo_child(r'^interface', r'authentication')

    #Remove Non Gig Ports
    GigPorts = [x.text.split()[1] for x in NoDot1x if x.text.startswith("interface Gig")]
    
    # Remove X/1/x ports
    prefixes = ('GigabitEthernet1/1/1', 'GigabitEthernet1/1/2', 'GigabitEthernet1/1/3', 'GigabitEthernet1/1/4', 'GigabitEthernet2/1/1')
    list = GigPorts
    for word in list[:]:
        if text.startswith(prefixes):
            list.remove(text)

    #Display Filtered Results
    print(config_path)
for item in GigPorts: print(item)
